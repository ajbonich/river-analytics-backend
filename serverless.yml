# serverless.yml

service: python-api

provider:
    name: aws
    runtime: python3.8
    stage: dev
    region: us-east-2
    deploymentBucket:
        name: python-api-dev-serverlessdeploymentbucket-1f0rtnw6vwgt3

plugins:
  - serverless-layers
custom:
    serverless-layers:
        - staticArn:
            functions:
                - usgsDataAccess
            arn:
                - arn:aws:lambda:us-east-2:770693421928:layer:Klayers-python38-numpy:12
                - arn:aws:lambda:us-east-2:770693421928:layer:Klayers-python38-numpy:12

functions:
    usgsDefaultDataAccess:
        handler: usgsController.getUSGSDefaultData
        events:
            - http:
                path: /
                method: get
    usgsDailyAverageData:
        handler: usgsController.getDailyAverageData
        events:
            - http:
                path: /getDailyAverageData
                method: get
    usgsDailyRunnablePercentages:
        handler: usgsController.getDailyRunnablePercentages
        events:
            - http:
                path: /getRunnablePercentages
                method: get
            
